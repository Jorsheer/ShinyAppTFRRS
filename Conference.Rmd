---
title: "Conference"
output: html_document
date: "2025-05-11"
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r track-ui, echo=FALSE}
inputPanel(
  selectInput("year", "Select Year:", choices = sort(unique(final_miac$Year)), selected = max(final_miac$Year)),
  selectInput("event", "Select Event:", choices = sort(unique(final_miac$Event)), selected = "60 Meters (Men)")
)

renderPlot({
  
  filtered_data <- final_miac |>
    filter(Year == input$year, Event == input$event)

  if (all(is.na(filtered_data$Time)) && any(!is.na(filtered_data$Mark))) {
    barplot(
      filtered_data$Mark,
      names.arg = filtered_data$Athlete,
      las = 2,
      main = paste("Marks for", input$event),
      ylab = "Mark"
    )
  } else if (any(!is.na(filtered_data$Time))) {
    barplot(
      filtered_data$Time,
      names.arg = filtered_data$Athlete,
      las = 2,
      main = paste("Times for", input$event),
      ylab = "Time (seconds)"
    )
  } else {
    plot.new()
    text(0.5, 0.5, "No valid data for selected event", cex = 1.5)
  }
})

```
